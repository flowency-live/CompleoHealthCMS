import{A as L,i as R,D as k,r as l,j as e,S as I,L as h,B as m,q as b,C as v,a as N,e as M}from"./index-Cai9mj7O.js";import{H as U,M as w,F as D,B as z,b as O}from"./back-to-top-BClwR9Wj.js";import{T as F}from"./trust-signals-xW30uaUT.js";import{B as y}from"./badge-c9lbNGog.js";import{u as G}from"./use-intersection-observer-D8PkPGod.js";import{I as $}from"./impact-statistics-DH0VlE6U.js";import{c as o}from"./case-studies-Cq8hKWE1.js";import{B as T}from"./building-CcrNdqVf.js";import{C}from"./calendar-WVdJr2vm.js";import{A as S}from"./arrow-right-BXBjkTww.js";import{A as q}from"./award-DJjEw5dA.js";import{T as _}from"./target-ZIpX3sRR.js";import{T as V}from"./trending-up-B8rdIaay.js";import{U as Q}from"./users-2hCfdnBO.js";import{H as J}from"./heart-ChzKW1G9.js";class K{constructor(){this.baseURL=L}async getCaseStudiesPage(){var r;try{return((r=(await R.get(`${this.baseURL}/case-studies-page?populate=*`,{timeout:k})).data)==null?void 0:r.data)||{}}catch(c){throw console.error("âŒ Error fetching case studies page data:",c),c}}}const W=new K,d=n=>({Award:q,Target:_,TrendingUp:V,Clock:O,Users:Q,Heart:J,ArrowRight:S})[n];function he(){var u,g;const[n,r]=l.useState(!0),[c,i]=l.useState(null),[a,B]=l.useState(null),[x,E]=l.useState(null),[X,A]=l.useState(!1),{elementRef:P,isVisible:Y}=G({threshold:.2,triggerOnce:!0});return l.useEffect(()=>{(async()=>{var p,f,j;try{r(!0),i(null);const[s,H]=await Promise.all([W.getCaseStudiesPage(),M.getGlobalSettings()]);B(s),E(H),r(!1)}catch(s){console.error("âŒ Case Studies CMS connection failed:",s),console.error("ðŸ” Error type:",(s==null?void 0:s.name)||"Unknown"),console.error("ðŸ” Error message:",(s==null?void 0:s.message)||"No message"),console.error("ðŸ” Error code:",(s==null?void 0:s.code)||"No code"),(p=s==null?void 0:s.message)!=null&&p.includes("Mixed Content")||(f=s==null?void 0:s.message)!=null&&f.includes("CORS")||(s==null?void 0:s.code)==="ERR_FAILED"?(console.error("ðŸš¨ HTTPSâ†’HTTP Mixed Content Security Error detected!"),console.error("ðŸ’¡ Solution: CMS needs HTTPS or frontend needs HTTP"),i("CMS connection blocked by browser security (HTTPSâ†’HTTP)")):(s==null?void 0:s.code)==="ECONNABORTED"||(j=s==null?void 0:s.message)!=null&&j.includes("timeout")?(console.error("â±ï¸ Connection timeout detected"),i("CMS connection timeout - using fallback content")):i(`CMS connection failed: ${(s==null?void 0:s.message)||"Unknown error"}`),r(!1)}})()},[]),l.useEffect(()=>{const t=setTimeout(()=>A(!0),300);return()=>clearTimeout(t)},[]),n?e.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("img",{src:"/images/shared/logo-loading.png",alt:"Compleo Health Logo",className:"w-[768px] h-auto max-w-[70vw] max-h-[40vh] object-contain animate-logo-grow"})}),e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-compleo-teal relative z-10 mb-6"}),e.jsx("p",{className:"text-compleo-gray text-lg font-medium relative z-10",children:"Loading Case Studies..."})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(I,{}),e.jsx(U,{}),e.jsxs("main",{id:"main-content",className:"animate-fade-in-up",children:[e.jsx("section",{ref:P,className:"py-20 bg-compleo-deep-teal text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"opacity-100",children:[e.jsx("h1",{className:"text-4xl lg:text-6xl font-bold mb-6",children:((u=a==null?void 0:a.Hero)==null?void 0:u.title)||o.hero.title}),e.jsx("p",{className:"text-xl lg:text-2xl text-gray-200 mb-8 leading-relaxed",children:((g=a==null?void 0:a.Hero)==null?void 0:g.subtitle)||o.hero.subtitle}),e.jsxs("div",{className:"flex flex-row gap-3 sm:gap-6",children:[e.jsx(h,{href:o.hero.primaryButton.href,children:e.jsxs(m,{size:"lg",className:"group relative bg-gradient-to-br from-compleo-teal via-compleo-teal to-compleo-deep-teal hover:from-compleo-teal/90 hover:via-compleo-teal/90 hover:to-compleo-deep-teal/90 text-white px-4 sm:px-8 py-4 sm:py-3 rounded-xl shadow-xl hover:shadow-2xl border-2 border-white/40 hover:border-white/60 backdrop-blur-sm transition-all duration-300 hover:scale-105 w-36 sm:w-48 h-auto",children:[e.jsxs("div",{className:"flex flex-col items-center gap-1 sm:gap-1.5",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-1",children:d(o.hero.primaryButton.icon)&&b.createElement(d(o.hero.primaryButton.icon),{className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:bounce transition-transform duration-300"})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm sm:text-base font-semibold tracking-wider",children:o.hero.primaryButton.text}),e.jsx("span",{className:"text-xs font-medium opacity-90",children:o.hero.primaryButton.subtext})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 via-transparent to-white/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})}),e.jsx(h,{href:o.hero.secondaryButton.href,children:e.jsx(m,{size:"lg",className:"group bg-compleo-yellow hover:bg-compleo-yellow/90 text-compleo-deep-teal px-4 sm:px-8 py-4 sm:py-3 rounded-xl shadow-xl hover:shadow-2xl border-2 border-compleo-deep-teal/30 hover:border-compleo-deep-teal/50 backdrop-blur-sm transition-all duration-300 hover:scale-105 w-36 sm:w-48 h-auto",children:e.jsxs("div",{className:"flex flex-col items-center gap-1 sm:gap-1.5",children:[e.jsx("div",{className:"bg-compleo-deep-teal/20 rounded-full p-1",children:d(o.hero.secondaryButton.icon)&&b.createElement(d(o.hero.secondaryButton.icon),{className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:rotate-12 transition-transform duration-300"})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm sm:text-base font-semibold tracking-wider",children:o.hero.secondaryButton.text}),e.jsx("span",{className:"text-xs font-medium opacity-90",children:o.hero.secondaryButton.subtext})]})]})})})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-compleo-deep-teal to-compleo-teal rounded-2xl p-8 shadow-2xl border-2 border-compleo-yellow/30 ring-2 ring-compleo-yellow/20",children:e.jsx($,{variant:"hero",textColor:"yellow",gridCols:3,impactStats:x==null?void 0:x.ImpactStatistics,title:a==null?void 0:a.impactStatsTitle})})]})})}),e.jsx("section",{className:"py-20 bg-[#ffffff]",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-compleo-deep-teal mb-6",children:(a==null?void 0:a.successStoriesTitle)||o.successStories.title}),e.jsx("p",{className:"text-xl text-compleo-gray max-w-3xl mx-auto",children:(a==null?void 0:a.successStoriesSubtitle)||o.successStories.subtitle})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:o.caseStudies.map((t,p)=>e.jsx("div",{className:"relative group",children:t.id==="nhs-devon"?e.jsxs(v,{className:"hover-lift hover-glow transition-all duration-300 bg-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-compleo-deep-teal opacity-0 group-hover:opacity-25 transition-opacity duration-300 z-10 pointer-events-none"}),e.jsx("div",{className:"aspect-video bg-white rounded-t-lg overflow-hidden",children:e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-contain p-4"})}),e.jsxs(N,{className:"p-6 relative z-20",children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx(y,{variant:"secondary",className:"bg-compleo-beige text-compleo-deep-teal",children:t.category})}),e.jsx("h3",{className:"text-xl font-bold text-compleo-deep-teal mb-3",children:t.title}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm text-compleo-gray",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{children:t.trustName})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:t.projectDuration||new Date(t.date).toLocaleDateString("en-GB")})]})]}),e.jsx("p",{className:"text-compleo-gray mb-4",children:t.summary}),e.jsx(m,{variant:"outline",className:"w-full",disabled:!0,children:"Quote Only"})]})]}):e.jsx(h,{href:`/case-study/${t.id}`,className:"block",children:e.jsxs(v,{className:"hover-lift hover-glow transition-all duration-300 bg-white cursor-pointer relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-compleo-deep-teal opacity-0 group-hover:opacity-25 transition-opacity duration-300 z-10"}),e.jsx("div",{className:"aspect-video bg-gray-100 rounded-t-lg overflow-hidden",children:e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsxs(N,{className:"p-6 relative z-20",children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx(y,{variant:"secondary",className:"bg-compleo-beige text-compleo-deep-teal",children:t.category})}),e.jsx("h3",{className:"text-xl font-bold text-compleo-deep-teal mb-3",children:t.title}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm text-compleo-gray",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{children:t.trustName})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:t.projectDuration||new Date(t.date).toLocaleDateString("en-GB")})]})]}),e.jsx("p",{className:"text-compleo-gray mb-4",children:t.summary}),e.jsxs(m,{variant:"outline",className:"w-full group",children:["Read Full Case Study",e.jsx(S,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]})})},t.id))})]})}),e.jsx(F,{})]}),e.jsx(D,{}),e.jsx(z,{})]})}export{he as default};
