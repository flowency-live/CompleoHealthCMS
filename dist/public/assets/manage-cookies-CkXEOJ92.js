import{c as V,r as d,Y,j as e,S as A,C as l,a as n,B as u,a4 as N,a5 as v,a6 as R}from"./index-Cai9mj7O.js";import{u as K}from"./use-intersection-observer-D8PkPGod.js";import{H as L,F as P,B as q}from"./back-to-top-BClwR9Wj.js";import{B as J}from"./breadcrumb-DCEpvncm.js";import{T as W}from"./trust-signals-xW30uaUT.js";import{B as w}from"./badge-c9lbNGog.js";import{B as G}from"./branded-icons-BHybG4Z1.js";import{D as c}from"./database-CsObUwCT.js";import{S as x}from"./shield-CgAIxSr2.js";import{E as j}from"./eye-Cb305nRb.js";import{S as Q}from"./settings-DYOWoTh5.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function ce(){const{elementRef:k,isVisible:U}=K({threshold:.1}),[o,m]=d.useState([]),[f,D]=d.useState([]),[C,I]=d.useState(0),{toast:i}=Y(),E=[{label:"Home",href:"/"},{label:"Cookie Policy",href:"/cookie-policy"},{label:"Manage Cookies"}],h=()=>{const t=[];for(let s=0;s<localStorage.length;s++){const a=localStorage.key(s);if(a){const r=localStorage.getItem(a)||"",g={key:a,value:r,created:z(a),size:new Blob([r]).size,category:B(a),description:y(a),expires:T(a)};t.push(g)}}for(let s=0;s<sessionStorage.length;s++){const a=sessionStorage.key(s);if(a){const r=sessionStorage.getItem(a)||"",g={key:`${a} (session)`,value:r,created:new Date().toISOString(),size:new Blob([r]).size,category:"functional",description:`Session data: ${y(a)}`,expires:"End of session"};t.push(g)}}return t},B=t=>t.includes("cookie-consent")||t.includes("consent-log")?"essential":t.includes("theme")?"preferences":"functional",y=t=>{const s={"cookie-consent":"Your cookie consent preferences","consent-log":"Audit trail of consent decisions",theme:"Your preferred website theme","form-data":"Temporary form data for improved user experience"};for(const[a,r]of Object.entries(s))if(t.includes(a))return r;return"Website functionality data"},z=t=>{if(t==="consent-log")try{const s=JSON.parse(localStorage.getItem(t)||"{}");if(s.timestamp)return s.timestamp}catch{}return new Date().toISOString()},T=t=>t.includes("session")?"End of session":t==="cookie-consent"?"No expiry (until changed)":"No expiry",M=()=>{try{const t=localStorage.getItem("consent-log");if(t)return[JSON.parse(t)]}catch(t){console.error("Error loading consent history:",t)}return[]},H=t=>{const s=t.includes("(session)"),a=s?t.replace(" (session)",""):t;if(t.includes("cookie-consent")){i({title:"Cannot Delete",description:"Essential cookies cannot be deleted while browsing the site.",variant:"destructive"});return}try{s?sessionStorage.removeItem(a):localStorage.removeItem(a),m(h()),p(),i({title:"Data Deleted",description:`Successfully removed ${t}`})}catch{i({title:"Error",description:"Failed to delete data item",variant:"destructive"})}},$=()=>{const t=o.filter(s=>s.category!=="essential"&&!s.key.includes("cookie-consent"));t.forEach(s=>{const a=s.key.includes("(session)"),r=a?s.key.replace(" (session)",""):s.key;a?sessionStorage.removeItem(r):localStorage.removeItem(r)}),m(h()),p(),i({title:"Data Cleared",description:`Removed ${t.length} non-essential data items`})},p=()=>{const t=o.reduce((s,a)=>s+a.size,0);I(t)},b=t=>{if(t===0)return"0 Bytes";const s=1024,a=["Bytes","KB","MB"],r=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,r)).toFixed(2))+" "+a[r]},F=t=>{switch(t){case"essential":return"bg-red-100 text-red-800";case"functional":return"bg-blue-100 text-blue-800";case"preferences":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},O=t=>{switch(t){case"essential":return x;case"functional":return Q;case"preferences":return j;default:return c}};return d.useEffect(()=>{m(h()),D(M())},[]),d.useEffect(()=>{p()},[o]),e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(A,{}),e.jsx(L,{}),e.jsxs("main",{children:[e.jsx("section",{ref:k,className:"bg-compleo-deep-teal text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(G,{icon:c,variant:"primary"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Manage Your Data"}),e.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"View, manage, and control all data stored by our website. Complete transparency for your privacy."})]})})}),e.jsx(J,{items:E}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[e.jsx(l,{children:e.jsxs(n,{className:"p-6 text-center",children:[e.jsx(c,{className:"h-8 w-8 text-compleo-teal mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-compleo-deep-teal",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Data Items"})]})}),e.jsx(l,{children:e.jsxs(n,{className:"p-6 text-center",children:[e.jsx(x,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-compleo-deep-teal",children:o.filter(t=>t.category==="essential").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Essential"})]})}),e.jsx(l,{children:e.jsxs(n,{className:"p-6 text-center",children:[e.jsx(j,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-compleo-deep-teal",children:o.filter(t=>t.category==="preferences").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Preferences"})]})}),e.jsx(l,{children:e.jsxs(n,{className:"p-6 text-center",children:[e.jsx(c,{className:"h-8 w-8 text-compleo-teal mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-compleo-deep-teal",children:b(C)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Size"})]})})]}),e.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:e.jsxs(u,{onClick:$,className:"bg-gradient-to-br from-red-500 via-red-500 to-red-600 hover:bg-gradient-to-br hover:from-red-600 hover:via-red-600 hover:to-red-700 text-white font-bold px-6 py-3 rounded-xl shadow-xl hover:shadow-2xl border-2 border-red-400/40 hover:border-red-500/60 backdrop-blur-sm transition-all duration-300 hover:scale-105",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Clear Non-Essential Data"]})}),e.jsxs(l,{className:"mb-8",children:[e.jsx(N,{children:e.jsxs(v,{className:"text-2xl text-compleo-deep-teal flex items-center gap-2",children:[e.jsx(c,{className:"h-6 w-6"}),"Your Stored Data"]})}),e.jsx(n,{children:o.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(c,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No data currently stored"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-semibold text-compleo-deep-teal",children:"Data Item"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-semibold text-compleo-deep-teal",children:"Category"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-semibold text-compleo-deep-teal",children:"Size"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-semibold text-compleo-deep-teal",children:"Expires"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-center text-sm font-semibold text-compleo-deep-teal",children:"Actions"})]})}),e.jsx("tbody",{children:o.map((t,s)=>{const a=O(t.category);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-200 px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:"h-4 w-4 text-compleo-teal flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-compleo-deep-teal text-sm",children:t.key}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:t.description})]})]})}),e.jsx("td",{className:"border border-gray-200 px-4 py-2",children:e.jsx(w,{className:F(t.category),children:t.category})}),e.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-600",children:b(t.size)}),e.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-600",children:t.expires||"No expiry"}),e.jsx("td",{className:"border border-gray-200 px-4 py-2",children:e.jsxs("div",{className:"flex gap-1 justify-center",children:[e.jsx(u,{size:"sm",variant:"outline",onClick:()=>{i({title:"Data Content",description:`${t.key}: ${t.value.substring(0,100)}${t.value.length>100?"...":""}`})},className:"h-8 w-8 p-0",children:e.jsx(j,{className:"h-3 w-3"})}),t.category!=="essential"&&e.jsx(u,{size:"sm",variant:"outline",onClick:()=>H(t.key),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(S,{className:"h-3 w-3"})})]})})]},s)})})]})})})]}),e.jsxs(l,{className:"mb-8",children:[e.jsx(N,{children:e.jsxs(v,{className:"text-2xl text-compleo-deep-teal flex items-center gap-2",children:[e.jsx(x,{className:"h-6 w-6"}),"Consent History"]})}),e.jsx(n,{children:f.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(x,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No consent records found"})]}):e.jsx("div",{className:"space-y-4",children:f.map((t,s)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"h-5 w-5 text-compleo-teal"}),e.jsxs("span",{className:"font-semibold text-compleo-deep-teal",children:["Consent ",t.status]}),e.jsx(w,{className:t.status==="accepted"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:t.status})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(t.timestamp).toLocaleString()})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Version: ",t.version]}),t.categories&&t.categories.length>0&&e.jsxs("p",{children:["Categories: ",t.categories.join(", ")]})]})]},s))})})]}),e.jsx(l,{className:"bg-blue-50 border-blue-200",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(R,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Important Information"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Essential cookies cannot be deleted as they're required for basic site functionality"}),e.jsx("li",{children:"• Deleting preference data will reset your theme and other customization settings"}),e.jsx("li",{children:"• This tool shows data stored locally in your browser - no server data is included"}),e.jsxs("li",{children:["• For formal data access requests, please contact us via our ",e.jsx("a",{href:"/contact",className:"underline hover:text-blue-900",children:"contact page"})]})]})]})]})})})]}),e.jsx(W,{})]}),e.jsx(P,{}),e.jsx(q,{})]})}export{ce as default};
